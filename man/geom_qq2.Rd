% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/geom_qq2.R
\name{geom_qq2}
\alias{geom_qq2}
\title{QQ Plot Geom}
\usage{
geom_qq2(
  mapping = NULL,
  data = NULL,
  stat = "qq2",
  position = "identity",
  na.rm = TRUE,
  show.legend = NA,
  inherit.aes = TRUE,
  quantiles = seq(0.01, 0.99, 0.01),
  treatment_level = 1L,
  ...
)
}
\arguments{
\item{mapping}{Set of aesthetic mappings. Required aesthetics are \code{sample} (variable)
and \code{treatment} (group). The \code{treatment} aesthetic can be a factor, character, or numeric.
Optional aesthetics include \code{weight} for weighting.}

\item{data}{Data frame to use. If not specified, inherits from the plot.}

\item{stat}{Statistical transformation to use. Default is "qq2".}

\item{position}{Position adjustment. Default is "identity".}

\item{na.rm}{Remove missing values? Default TRUE.}

\item{show.legend}{Show legend? Default NA.}

\item{inherit.aes}{Inherit aesthetics from plot? Default TRUE.}

\item{quantiles}{Numeric vector of quantiles to compute. Default is
\code{seq(0.01, 0.99, 0.01)} for 99 quantiles.}

\item{treatment_level}{The reference treatment level to use for comparisons.
Defaults to 1 (first level).}

\item{...}{Additional arguments passed to the geom.}
}
\value{
A ggplot2 layer.
}
\description{
A ggplot2 geom for creating quantile-quantile plots with support for
weighted comparisons.
}
\examples{
library(ggplot2)

# Basic QQ plot
ggplot(nhefs_weights, aes(sample = age, treatment = qsmk)) +
  geom_qq2()

# With weighting
ggplot(nhefs_weights, aes(sample = age, treatment = qsmk, weight = w_ate)) +
  geom_qq2()

# Compare multiple weights using long format
long_data <- tidyr::pivot_longer(
  nhefs_weights,
  cols = c(w_ate, w_att),
  names_to = "weight_type",
  values_to = "weight"
)

ggplot(long_data, aes(sample = age, treatment = qsmk, weight = weight)) +
  geom_qq2(aes(color = weight_type)) +
  geom_abline(intercept = 0, slope = 1, linetype = "dashed")

}
