% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/geom_calibration.R
\name{check_calibration}
\alias{check_calibration}
\title{Compute calibration data for binary outcomes}
\usage{
check_calibration(
  data,
  x,
  y,
  bins = 10,
  binning_method = c("equal_width", "quantile"),
  conf_level = 0.95,
  na.rm = FALSE
)
}
\arguments{
\item{data}{A data frame or tibble containing the data.}

\item{x}{Column name of predicted probabilities (numeric between 0 and 1).
Can be unquoted (e.g., \code{pred}) or quoted (e.g., \code{"pred"}).}

\item{y}{Column name of observed binary outcomes (0/1).
Can be unquoted (e.g., \code{obs}) or quoted (e.g., \code{"obs"}).}

\item{bins}{Integer >1; number of bins for the "breaks" method.}

\item{binning_method}{"equal_width" or "quantile" for bin creation.}

\item{conf_level}{Numeric in (0,1); confidence level for CIs (default = 0.95).}

\item{na.rm}{Logical; if TRUE, drop NA x or y before summarizing.}
}
\value{
A tibble with columns:
\itemize{
\item .bin: integer bin index
\item x_mean: mean predicted probability in bin
\item y_mean: observed outcome rate in bin
\item count: number of observations in bin
\item lower: lower bound of CI for y_mean
\item upper: upper bound of CI for y_mean
}
}
\description{
This function summarizes predicted probabilities and observed outcomes into bins,
computing mean prediction, observed rate, counts, and confidence intervals.
}
\examples{
# Create sample data
set.seed(123)
df <- data.frame(
  predicted = runif(100),
  observed = rbinom(100, 1, 0.5)
)

# Both quoted and unquoted column names work
check_calibration(df, predicted, observed)
check_calibration(df, "predicted", "observed")

# Different binning methods
check_calibration(df, predicted, observed, binning_method = "quantile")
}
