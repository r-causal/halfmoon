% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/geom_roc.R
\name{geom_roc}
\alias{geom_roc}
\title{ROC Curve Geom for Causal Inference}
\usage{
geom_roc(
  mapping = NULL,
  data = NULL,
  stat = "roc",
  position = "identity",
  na.rm = TRUE,
  show.legend = NA,
  inherit.aes = TRUE,
  linewidth = 0.5,
  treatment_level = NULL,
  ...
)
}
\arguments{
\item{mapping}{Set of aesthetic mappings. Must include \code{estimate} (propensity scores/predictions)
and \code{truth} (treatment/outcome variable). If specified, inherits from the plot.}

\item{data}{Data frame to use. If not specified, inherits from the plot.}

\item{stat}{Statistical transformation to use. Default is "roc".}

\item{position}{Position adjustment. Default is "identity".}

\item{na.rm}{If \code{FALSE}, the default, missing values are removed with a warning.
If \code{TRUE}, missing values are silently removed.}

\item{show.legend}{Logical. Should this layer be included in the legends?
\code{NA}, the default, includes if any aesthetics are mapped.}

\item{inherit.aes}{If \code{FALSE}, overrides the default aesthetics, rather than
combining with them.}

\item{linewidth}{Width of the ROC curve line. Default is 0.5.}

\item{treatment_level}{The level of the outcome variable to consider as the
treatment/event. If \code{NULL} (default), uses the last level for factors or
the maximum value for numeric variables.}

\item{...}{Other arguments passed on to layer().}
}
\value{
A ggplot2 layer.
}
\description{
A ggplot2 geom for plotting ROC curves with optional weighting.
Emphasizes the balance interpretation where AUC around 0.5 indicates good balance.
}
\examples{
# Basic usage
library(ggplot2)
ggplot(nhefs_weights, aes(estimate = .fitted, truth = qsmk)) +
  geom_roc() +
  geom_abline(intercept = 0, slope = 1, linetype = "dashed")

# With grouping by weight
long_data <- tidyr::pivot_longer(
  nhefs_weights,
  cols = c(w_ate, w_att),
  names_to = "weight_type",
  values_to = "weight"
)

ggplot(long_data, aes(estimate = .fitted, truth = qsmk, weight = weight)) +
  geom_roc(aes(color = weight_type)) +
  geom_abline(intercept = 0, slope = 1, linetype = "dashed")

}
\seealso{
\code{\link[=check_auc]{check_auc()}} for computing AUC values, \code{\link[=stat_roc]{stat_roc()}} for the underlying stat

Other ggplot2 functions: 
\code{\link{geom_calibration}()},
\code{\link{geom_ecdf}()},
\code{\link{geom_mirror_density}()},
\code{\link{geom_mirror_histogram}()},
\code{\link{geom_qq2}()}
}
\concept{ggplot2 functions}
