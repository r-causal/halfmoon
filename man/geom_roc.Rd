% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/geom_roc.R
\name{geom_roc}
\alias{geom_roc}
\title{ROC Curve Geom for Causal Inference}
\usage{
geom_roc(
  mapping = NULL,
  data = NULL,
  stat = "roc",
  position = "identity",
  na.rm = TRUE,
  show.legend = NA,
  inherit.aes = TRUE,
  linewidth = 0.5,
  treatment_level = NULL,
  ...
)
}
\arguments{
\item{mapping}{Set of aesthetic mappings. Must include \code{estimate} (propensity scores/predictions)
and \code{truth} (treatment/outcome variable). If specified, inherits from the plot.}

\item{data}{Data frame to use. If not specified, inherits from the plot.}

\item{stat}{Statistical transformation to use. Default is "roc".}

\item{position}{Position adjustment. Default is "identity".}

\item{na.rm}{Remove missing values? Default TRUE.}

\item{show.legend}{Show legend? Default NA.}

\item{inherit.aes}{Inherit aesthetics from plot? Default TRUE.}

\item{linewidth}{Width of the ROC curve line. Default is 0.5.}

\item{treatment_level}{The level of the outcome variable to consider as the treatment/event.
Default is NULL, which uses the last level for factors or max value for numeric.}

\item{...}{Additional arguments passed to the geom.}
}
\value{
A ggplot2 layer.
}
\description{
A ggplot2 geom for plotting ROC curves with optional weighting.
Emphasizes the balance interpretation where AUC around 0.5 indicates good balance.
}
\examples{
# Basic usage
library(ggplot2)
ggplot(nhefs_weights, aes(estimate = .fitted, truth = qsmk)) +
  geom_roc()

# With grouping by weight
long_data <- tidyr::pivot_longer(
  nhefs_weights,
  cols = c(w_ate, w_att),
  names_to = "weight_type",
  values_to = "weight"
)

ggplot(long_data, aes(estimate = .fitted, truth = qsmk, weight = weight)) +
  geom_roc(aes(color = weight_type))

}
