% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/check_balance.R
\name{check_balance}
\alias{check_balance}
\title{Check Balance Across Multiple Metrics}
\usage{
check_balance(
  .data,
  .vars,
  .group,
  .wts = NULL,
  .metrics = c("smd", "variance_ratio", "ks"),
  include_observed = TRUE,
  reference_group = 1L,
  na_rm = FALSE,
  make_dummy_vars = FALSE,
  squares = TRUE,
  cubes = TRUE,
  interactions = TRUE
)
}
\arguments{
\item{.data}{A data frame containing the variables to analyze.}

\item{.vars}{Variables for which to calculate balance metrics. Can be unquoted
variable names, a character vector, or a tidyselect expression.}

\item{.group}{Grouping variable. Can be unquoted or quoted. Must have exactly
two unique levels.}

\item{.wts}{Optional weighting variables. Can be unquoted variable names,
a character vector, or NULL. Multiple weights can be provided to compare
different weighting schemes.}

\item{.metrics}{Character vector specifying which metrics to compute.
Available options: "smd" (standardized mean difference), "variance_ratio",
"ks" (Kolmogorov-Smirnov), "correlation" (for continuous exposures).
Defaults to the first three.}

\item{include_observed}{Logical. If using \code{.wts}, also calculate observed
metrics? Defaults to TRUE.}

\item{reference_group}{The reference group level to use for comparisons.
Defaults to 1 (first level).}

\item{na_rm}{A logical value indicating whether to remove missing values
before computation. Defaults to FALSE.}

\item{make_dummy_vars}{Logical. Transform categorical variables to dummy
variables using \code{model.matrix()}? Defaults to FALSE. When TRUE, categorical
variables are expanded into separate binary indicators for each level.}

\item{squares}{Logical. Include squared terms for continuous variables?
Defaults to TRUE. When TRUE, adds squared versions of numeric variables.}

\item{cubes}{Logical. Include cubed terms for continuous variables?
Defaults to TRUE. When TRUE, adds cubed versions of numeric variables.}

\item{interactions}{Logical. Include all pairwise interactions between
variables? Defaults to TRUE. When TRUE, creates interaction terms for
all variable pairs.}
}
\value{
A tibble with columns:
\item{variable}{Character. The variable name being analyzed.}
\item{group_level}{Character. The non-reference group level.}
\item{method}{Character. The weighting method ("observed" or weight variable name).}
\item{metric}{Character. The balance metric computed ("smd", "variance_ratio", "ks").}
\item{estimate}{Numeric. The computed balance statistic.}
}
\description{
Computes balance statistics for multiple variables across different groups and
optional weighting schemes. This function generalizes balance checking by
supporting multiple metrics (SMD, variance ratio, Kolmogorov-Smirnov) and
returns results in a tidy, long-format tibble similar to \code{tidysmd::tidy_smd()}.
}
\examples{
# Basic usage with all metrics
check_balance(nhefs_weights, c(age, wt71, smokeintensity), qsmk)

# With specific metrics only
check_balance(nhefs_weights, c(age, wt71), qsmk, .metrics = c("smd", "ks"))

# With multiple weights
check_balance(nhefs_weights, c(age, wt71), qsmk, .wts = c(w_ate, w_att))

# Exclude observed results
check_balance(nhefs_weights, c(age, wt71), qsmk, .wts = w_ate, include_observed = FALSE)

# Use correlation for continuous exposure
check_balance(mtcars, c(mpg, hp), disp, .metrics = "correlation")

# With dummy variables for categorical variables
check_balance(nhefs_weights, c(age, sex, race), qsmk, make_dummy_vars = TRUE)

# With higher-order terms
check_balance(nhefs_weights, c(age, wt71), qsmk, squares = TRUE, cubes = TRUE)

# With interactions
check_balance(nhefs_weights, c(age, wt71), qsmk, interactions = TRUE)

}
