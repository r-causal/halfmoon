% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/bal_qq.R
\name{bal_qq}
\alias{bal_qq}
\title{Compute QQ Data for Single Variable and Weight}
\usage{
bal_qq(
  .data,
  .var,
  .exposure,
  .weights = NULL,
  quantiles = seq(0.01, 0.99, 0.01),
  .reference_level = NULL,
  na.rm = FALSE
)
}
\arguments{
\item{.data}{A data frame containing the variables.}

\item{.var}{Variable to compute quantiles for (unquoted).}

\item{.exposure}{Column name of treatment/group variable (unquoted).}

\item{.weights}{Optional single weight variable (unquoted). If NULL, computes
unweighted quantiles.}

\item{quantiles}{Numeric vector of quantiles to compute. Default is
\code{seq(0.01, 0.99, 0.01)} for 99 quantiles.}

\item{.reference_level}{The reference group level for comparisons. Can be either
a group level value or a numeric index. If \code{NULL} (default), uses the first level.}

\item{na.rm}{A logical value indicating whether to remove missing values
before computation. If \code{FALSE} (default), missing values in the input
will produce \code{NA} in the output.}
}
\value{
A tibble with columns:
\item{quantile}{Numeric. The quantile probability (0-1).}
\item{exposed_quantiles}{Numeric. The quantile value for the exposed group.}
\item{unexposed_quantiles}{Numeric. The quantile value for the unexposed group.}
}
\description{
Calculate quantile-quantile data comparing the distribution of a variable
between treatment groups for a single weighting scheme (or unweighted).
This function computes the quantiles for both groups and returns a data frame
suitable for plotting or further analysis.
}
\details{
This function computes the data needed for quantile-quantile plots by calculating
corresponding quantiles from two distributions. The computation uses the inverse
of the empirical cumulative distribution function (ECDF). For weighted data,
it first computes the weighted ECDF and then inverts it to obtain quantiles.

When the distributions of a variable are similar between treatment groups
(indicating good balance), the QQ plot points will lie close to the diagonal
line y = x.
}
\examples{
# Unweighted QQ data
bal_qq(nhefs_weights, age, qsmk)

# Weighted QQ data
bal_qq(nhefs_weights, age, qsmk, .weights = w_ate)

# Custom quantiles
bal_qq(nhefs_weights, age, qsmk, .weights = w_ate,
       quantiles = seq(0.1, 0.9, 0.1))

}
\seealso{
\code{\link[=check_qq]{check_qq()}} for computing QQ data across multiple weights,
\code{\link[=plot_qq]{plot_qq()}} for visualization

Other balance functions: 
\code{\link{bal_corr}()},
\code{\link{bal_ess}()},
\code{\link{bal_ks}()},
\code{\link{bal_model_auc}()},
\code{\link{bal_model_roc_curve}()},
\code{\link{bal_smd}()},
\code{\link{bal_vr}()},
\code{\link{check_balance}()},
\code{\link{check_ess}()},
\code{\link{check_model_auc}()},
\code{\link{check_model_roc_curve}()},
\code{\link{check_qq}()},
\code{\link{plot_balance}()}
}
\concept{balance functions}
