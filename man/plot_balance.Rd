% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/plot_balance.R
\name{plot_balance}
\alias{plot_balance}
\title{Create balance plot from check_balance output}
\usage{
plot_balance(
  .df,
  abs_smd = TRUE,
  facet_scales = "free",
  linewidth = 0.8,
  point_size = 1.85,
  vline_xintercept = 0.1,
  vline_color = "grey70",
  vlinewidth = 0.6
)
}
\arguments{
\item{.df}{A data frame produced by \code{check_balance()}}

\item{abs_smd}{Logical. Take the absolute value of SMD estimates? Defaults
to TRUE. Does not affect other metrics which are already non-negative.}

\item{facet_scales}{Character. Scale specification for facets. Defaults to
"free" to allow different scales for different metrics. Options are
"fixed", "free_x", "free_y", or "free".}

\item{linewidth}{The line size, passed to \code{\link[ggplot2:geom_path]{ggplot2::geom_line()}}.}

\item{point_size}{The point size, passed to \code{\link[ggplot2:geom_point]{ggplot2::geom_point()}}.}

\item{vline_xintercept}{The X intercept, passed to \code{\link[ggplot2:geom_abline]{ggplot2::geom_vline()}}.}

\item{vline_color}{The vertical line color, passed to
\code{\link[ggplot2:geom_abline]{ggplot2::geom_vline()}}.}

\item{vlinewidth}{The vertical line size, passed to
\code{\link[ggplot2:geom_abline]{ggplot2::geom_vline()}}.}
}
\value{
A ggplot2 object
}
\description{
Create a Love plot-style visualization to assess balance across multiple
metrics computed by \code{check_balance()}. This function wraps \code{geom_love()}
to create a comprehensive balance assessment plot.
}
\details{
This function visualizes the output of \code{check_balance()}, creating a plot
that shows balance statistics across different variables, methods, and metrics.
The plot uses faceting to separate different metrics and displays the
absolute value of SMD by default (controlled by \code{abs_smd}).

For categorical exposures (>2 levels), the function automatically detects
multiple group level comparisons and uses \code{facet_grid()} to display each
comparison in a separate row, with metrics in columns. For binary exposures,
the standard \code{facet_wrap()} by metric is used.

Different metrics have different interpretations:
\itemize{
\item \strong{SMD}: Standardized mean differences, where values near 0 indicate
good balance. Often displayed as absolute values.
\item \strong{Variance Ratio}: Ratio of variances between groups, where values
near 1 indicate similar variability.
\item \strong{KS}: Kolmogorov-Smirnov statistic, where smaller values indicate
better distributional balance.
\item \strong{Correlation}: For continuous exposures, measures association with
covariates.
\item \strong{Energy}: Multivariate balance metric applied to all variables
simultaneously.
}
}
\examples{
# Compute balance metrics
balance_data <- check_balance(
  nhefs_weights,
  c(age, education, race),
  qsmk,
  .wts = c(w_ate, w_att)
)

# Create balance plot
plot_balance(balance_data)

# Without absolute SMD values
plot_balance(balance_data, abs_smd = FALSE)

# With fixed scales across facets
plot_balance(balance_data, facet_scales = "fixed")

# Customize threshold lines
plot_balance(balance_data, vline_xintercept = 0.05)

# Categorical exposure example
# Automatically uses facet_grid to show each group comparison
balance_cat <- check_balance(
  nhefs_weights,
  c(age, wt71, sex),
  alcoholfreq_cat,
  .wts = w_cat_ate,
  .metrics = c("smd", "vr")
)
plot_balance(balance_cat)
}
\seealso{
\code{\link[=check_balance]{check_balance()}} for computing balance metrics, \code{\link[=geom_love]{geom_love()}} for
the underlying geom

Other balance functions: 
\code{\link{bal_corr}()},
\code{\link{bal_ks}()},
\code{\link{bal_smd}()},
\code{\link{bal_vr}()},
\code{\link{check_auc}()},
\code{\link{check_balance}()},
\code{\link{check_ess}()}
}
\concept{balance functions}
