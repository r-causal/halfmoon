% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/bal_model_roc_curve.R
\name{bal_model_roc_curve}
\alias{bal_model_roc_curve}
\title{Calculate Single ROC Curve for Model Balance Assessment}
\usage{
bal_model_roc_curve(
  .data,
  .exposure,
  .estimate,
  .weights = NULL,
  na.rm = TRUE,
  .focal_level = NULL
)
}
\arguments{
\item{.data}{A data frame containing the variables.}

\item{.exposure}{The treatment/outcome variable (unquoted).}

\item{.estimate}{The propensity score or fitted values (unquoted).}

\item{.weights}{Optional single weight variable (unquoted). If NULL, computes
unweighted ROC curve.}

\item{na.rm}{A logical value indicating whether to remove missing values
before computation. If \code{FALSE} (default), missing values in the input
will produce \code{NA} in the output.}

\item{.focal_level}{The level of the outcome variable to consider as the
treatment/event. If \code{NULL} (default), uses the last level for factors or
the maximum value for numeric variables.}
}
\value{
A tibble with columns:
\item{threshold}{Numeric. The decision threshold.}
\item{sensitivity}{Numeric. True positive rate at the threshold.}
\item{specificity}{Numeric. True negative rate at the threshold.}
}
\description{
Computes the Receiver Operating Characteristic (ROC) curve for a single
weighting scheme or unweighted data. In causal inference, an ROC curve
near the diagonal indicates good balance between treatment groups.
}
\details{
The ROC curve plots sensitivity (true positive rate) against 1-specificity
(false positive rate) across all possible threshold values. When propensity
scores achieve perfect balance, the ROC curve should lie close to the diagonal
line from (0,0) to (1,1), indicating that the propensity scores have no
discriminatory ability between treatment groups.

ROC curves that bow significantly above the diagonal indicate that the
propensity scores can still distinguish between treatment groups, suggesting
inadequate balance.
}
\examples{
# Unweighted ROC curve
bal_model_roc_curve(nhefs_weights, qsmk, .fitted)

# Weighted ROC curve
bal_model_roc_curve(nhefs_weights, qsmk, .fitted, w_ate)

}
\seealso{
\code{\link[=check_model_roc_curve]{check_model_roc_curve()}} for computing ROC curves across multiple weights,
\code{\link[=bal_model_auc]{bal_model_auc()}} for the area under the curve summary

Other balance functions: 
\code{\link{bal_corr}()},
\code{\link{bal_ess}()},
\code{\link{bal_ks}()},
\code{\link{bal_model_auc}()},
\code{\link{bal_qq}()},
\code{\link{bal_smd}()},
\code{\link{bal_vr}()},
\code{\link{check_balance}()},
\code{\link{check_ess}()},
\code{\link{check_model_auc}()},
\code{\link{check_model_roc_curve}()},
\code{\link{check_qq}()},
\code{\link{plot_balance}()}
}
\concept{balance functions}
